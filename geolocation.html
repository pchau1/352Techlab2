<!DOCTYPE html>
<html>
  <head>
    <title>GeoLocation</title>
    </head>
    <body>
    <center>
    <a href="#" id="get_location">Get Location</a>
    </center>
<center>
    <div id="map">
    <iframe id="google_map" width="425" height="350" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" src="https://maps.google.co.nz?output=embed"></iframe>
    </div>      
</center>

<script>

var c = function(pos) {
    var lat = pos.coords.latitude,
        long = pos.coords.longitude,
        coords = lat + ', ' + long;

        document.getElementById('google_map').setAttribute('src', 'https://maps.google.co.nz?q='+ coords +'&z=60&output=embed');

}

document.getElementById('get_location').onclick= function() {
    navigator.geolocation.getCurrentPosition(c);
    return false;
}
      

    </script>
  </body>
</html>
